### R基本绘图

> Author: jzhang
> Mail:   jzhang910@qq.com
> Update: 2020-05-05

#### 1.高级绘图函数

高水平绘图函数能够直接创建新图形，并可自动生成坐标，坐标刻度和标题等附属图形函数。

许多高级函数（如plot、hist、boxplot等）包含了默认的设置标题和坐标轴标签，若想另行设置需在高级函数或`par()`中设置`anno=FALSE`来移除他们。

##### 基本函数-plot()

##### 点图-dotchart

##### 饼图-pie

##### 条形图-barplot

##### 直方图-hist

##### 箱线图-boxplot

##### 小提琴图-vioplot

##### Q-Q图-qqnorm

##### 三维透视图-persp

##### 等值线-contour

#### 2.低级绘图函数

##### 标题-title()

使用`title()`函数可以对主标题、副标题、坐标轴标题进行设置，包括标题文本颜色大小等。

```R
title(main='my title', sub='my subtitle', xlab='my xlab', ylab='my ylab', col.lab='blue', cex.lab=0.75)
```

##### 文字-text()

text函数用来向**绘图区域内部**添加文本，只需要指定对应的x和y坐标，以及需要添加的文字内容就可以了,支持同时,创建多个text标签，对文件进行旋转。

| 参数   | 描述                                                         |
| ------ | ------------------------------------------------------------ |
| x      | x轴坐标                                                      |
| y      | y轴坐标                                                      |
| labels | 需要添加的文字内容                                           |
| pos    | 也是对文字的位置进行调整，不能和adj参数同时使用, 可选值为1， 2， 3, 4， 分别对应下， 上， 左， 右4个方向 |

##### 文字-mtext()

在当前**图形区域的四个边缘**之一，显示文本。

| 参数  | 描述                                                         |
| ----- | ------------------------------------------------------------ |
| text  | 文本内容                                                     |
| side  | 指定是哪个页边空白(1=下面，2=左边，3=上边，4=右边）          |
| line  | 指定文字出现的位置，文字和对应坐标轴平行。从坐标轴开始向外从0开始计数。具体设为多度少合适需要自己尝试。 |
| outer | 如果可以的话，使用外边距                                     |
| at    | 以用户坐标指定字符串回位置                                   |
| adj   | 调整阅读方向。为使字符串平行坐标轴，adj=0，意味着左对齐或答下对齐，而adj=1表示右对齐或上对齐 |
| padj  | 对于平行轴的字符串, padj=0表示右或上对齐，padj=1表示左或下对齐 |
| font  | 文字字体                                                     |

对于数学标注，可以使用`plotmath()`函数。

##### 点-points()

##### 线-lines()

| 参数 | 描述                               |
| ---- | ---------------------------------- |
| x, y | 是数值向量，表示点的坐标。         |
| type | 字符串，表示绘图类型。默认为划线。 |

##### 直线-abline()

函数`abline()`可以用来为图形添加参考线。

abline 函数的作用是在一张图表上添加直线, 可以是一条斜线，通过x或y轴的交点和斜率来确定位置；也可以是一条水平或者垂直的线，只需要指定与x轴或y轴交点的位置就可以了。

| 参数 | 描述                                                         |
| ---- | ------------------------------------------------------------ |
| h    | 水平线，参数设置直线与y轴的交点就可以了                      |
| v    | 垂直线，设置直线与x轴的交点                                  |
| a，b | 添加斜线，指定交点和斜率的值，参数 a 代表直线与y轴的交点距坐标原点的位置，参数 b 代表斜率 |
| coef | 添加斜线，通过一个长度为2的向量同时指定交点与原点的距离和斜率 |

##### 线段-segments()

语法规则：segments(x0 = ,y0 = ,x1 = ,y1 = ,col = ,lty = ,lwd = ,... = )

| 参数   | 描述               |
| ------ | ------------------ |
| x0，y0 | 表示线段的起始点   |
| x1，y1 | 表示线段的终点坐标 |

##### 箭头-arrows()

arrows 函数用来在一张图表上添加箭头，只需要分别指定起始坐标和终止坐标，就可以添加箭头了，还可以通过一些属性对箭头的形状，大小进行调整

| 参数   | 描述                                                         |
| ------ | ------------------------------------------------------------ |
| x0,y0  | 指定起始点的x和y坐标，支持一次设置多个值，同时画多个箭头     |
| x1,y1  | 指定终止点的x和y坐标，支持一次设置多个值，同时画多个箭头     |
| length | 该参数一次只能设置一个值，默认值为0.25， 为了调整不同箭头的大小，建议分别设置 |
| code   | 调整箭头的类型，一共有1,2,3,4 共四种类型，该参数一次只能设置一个值，code = 1 代表箭头由终止点指向起始点；code = 2 是默认值，箭头由起始点指向终止点；code = 3 代表在起始点和终止点两端都标上箭头 |
| angle  | 设置箭头的角度，默认值是45，该参数一次只能设置一个值         |

##### 图例-legend()

使用legend可以为我们的图形添加图例，legend(location, title, legend)

| 参数     | 描述                                                         |
| -------- | ------------------------------------------------------------ |
| location | 有许多方式可以指定图例的位置。你可以直接给定图例左上角的x、 y坐标，也可以执行locator(1)，然后通过鼠标单击给出图例的位置，还可以使用关键字bottom、 bottomleft、left、 topleft、 top、 topright、 right、 bottomright或center放置图例。如果你使用了以上某个关键字，那么可以同时使用参数inset=指定图例向图形内侧移动的大小（以绘图区域大小的分数表示） |
| title    | 图例标题（可选）                                             |
| legend   | 图例标签组成的字符型向量                                     |
| ...      | 其他选项。如果图例标示的是颜色不同的线条，需要指定col=加上颜色值组成的向量。如果图例标示的是符号不同的点，则需指定pch=加上符号的代码组成的向量。如果图例标示的是不同的线条宽度或线条类型，请使用lwd=或lty=加上宽度值或类型值组成的向量。要为图例创建颜色填充的盒形（常见于条形图、箱线图或饼图），需要使用参数fill=加上颜色 |

其他常用的图例选项包括用于指定盒子样式的`bty`、指定背景色的`bg`、指定大小的`cex`，以及指定文本颜色的`text.col`。指定`horiz=TRUE`将会水平放置图例，而不是垂直放置。

##### 边-axis()

##### 盒子-box()

##### 多边形-polygon()

##### 交互-locator()

##### 交互-identify()







#### 3.绘图参数

一幅图基因元素有：坐标轴，标题，点，线，文字，图例

通用属性：颜色，大小，字体，位置

##### 标题-axis

##### 坐标轴-axis

使用`axis()`来创建自定义的坐标轴，而非R的默认坐标轴，格式为:`axis(side, at=,labels=,pos=,lty=,col=,las=,tck=,...)`

需要注意的是，创建自定义坐标轴时，应当禁用高级绘图函数自动生成的坐标轴。参数`axes=FALSE`将禁用全部坐标轴（包括坐标轴框架线，除非你添加了参数frame.plot=TRUE）。参数`xaxt="n"`和`yaxt="n"`将分别禁用X轴或Y轴（会留下框架线，只是去除了刻度）。
若需要绘制次要刻度线，则需要用到Hmisc包的`minor.tick()`函数。

| 参数       | 描述                                                         |
| :--------- | :----------------------------------------------------------- |
| side       | 设置在图形哪边绘制坐标轴（1=下，2=左，3=上，4=右）           |
| at         | 数值型向量，表示绘制坐标轴刻度的位置                         |
| labels     | 刻度线标签，默认为at中的值                                   |
| pos        | 两坐标轴相交的位置                                           |
| lty        | 线条类型                                                     |
| col        | 线条和刻度线颜色                                             |
| ann        | 如果该值为 FALSE, 则高级绘图函数默认不输出坐标轴标题等注释. 默认为 TRUE, 即输出图像注释. |
| lab        | 设置坐标轴注释方式的向量 c(x, y, len), 默认是 c(5, 5, 7). x 指的是在 x 轴的刻度的数量, y 指的是在 y 轴的刻度的数量, len 指的是刻度的长度. |
| las        | 设置坐标轴标签的风格, 在 0, 1, 2, 3 中取值. 0, 默认, 和坐标轴平行; 1, 水平; 2, 和坐标轴垂直; 3, 垂直. crt 和 srt 不会对其产生影响. |
| tck        | 刻度线的相对长度，为一个有符号的比值，表示绘图区域的高度或宽度的比例, 如果是正值, 则在图像区域内画, 当 tck = 1 的时候, 绘制网格; 如果是负值, 则向边界绘制, 默认为 NA 时, 使用 tcl = -0.5. |
| tcl        | 刻度线的相对长度, 为相对于一行高度的比值, 正值表示向绘图中心区域延伸, 负值表示向边缘延伸. |
| xaxp,yaxp  | 设置极值刻度的样式. c(x1, x2, n), c(y1, y2, n). 当 xlog = FALSE 或者 ylog = FALSE 的时候, 相应的 xaxp 和 yaxp 中, x1 x2 和 y1 y2 分别表示 x 轴极值和 y 轴极值, n 表示在极值中间的刻度的个数. xlog = TRUE 和 ylog = TRUE 时, n 的调整会相应改变. 通过 lab 的前两项也可以设置 x 轴和 y 轴 n. |
| xaxs,yaxs  | 绘图区域和坐标轴间隔的设置, 值为字符, R 中暂时只支持 "r" 和 "i". "r" (regular) 先把数据的极值向两端延伸 4% 再寻找合适的坐标轴; "i" (internal) 直接在原来的数据范围内寻找合适的位置绘制坐标轴; "s" (standard) 找到合适的地方绘制坐标轴; "e" (extended) 类似于 "s" 不过其保证图像中符号可以正确被绘制; "d" (direct) 后面绘图也用本次坐标轴. |
| xaxt, yaxt | 坐标轴的型式, 值为字符. "n" 表示不绘制坐标轴, 其他字符均表示绘制坐标轴. |
| xlog, ylog | 坐标轴取 log 值.                                             |
| bty        | 设定 box 所绘制的方框的类型, plot 等函数也可以设置, 默认为 "o", 设置的型式类似其大写字母性状. "o" 代表四周都有线; "l" 代表左侧和下侧有线; "7" 代表右侧和上侧有线; "c" 代表左侧和上下侧均有线; "u" 代表左右两侧和下侧有线; "]" 代表右侧和上下侧均有线; "n" 不输出方框. |
| xpd        | 剪切图片, 可以参看 clip 函数. 如果 xpd 值为 FALSE, 所有的图形被剪切为绘图区域 (plot); 如果 xpd 值为 TRUE, 所有图形被剪切为图像区域 (figure) (绘图区域和边缘 (margin)); 如果 xpd 值为NA, 则图形被剪切为设备区域, 即图像区域和外边界(outer) (参看下面图像区域图片). |



##### 点-pch



<img src="R-base-plot.image/4264437-95349164925a036e-1588674313450.png" alt="img" style="zoom:80%;" />

##### 线-lty

<img src="R-base-plot.image/4264437-c89d32b41279dd97-1588674463661.png" alt="img" style="zoom:80%;" />

| 参数   | 描述                                                         |
| ------ | ------------------------------------------------------------ |
| lty    | line type. 可以是数字或者字符, (0 = "blank", 1 = "solid" (default), 2 = "dashed", 3 = "dotted", 4 = "dotdash", 5 = "longdash", 6 = "twodash") |
| lwd    | line width. 默认是 1, 设置线宽的放大倍数.                    |
| lmitre | 设置转折什么时候应该从 mitre 转换为 bevel, 值应该大于 1, 默认是 10. |
| lend   | 线条结束的风格, 可以是数字或字符串. 0, 或者 "round", 线头为圆形; 1, 或者 "butt", 线头为平头; 2, 或者 "square", 线头为正方形, 即增加一个正方形. |
| ljoin  | 线条转折的风格, 可以是数字或字符串. 0, 或者 "round", 圆形转折; 1, 或者 "mitre", 楔形转折; 2, 或者 "bevel", 平截转折. |



##### 颜色

| 参数     | 描述                         |
| -------- | ---------------------------- |
| col      | 默认的绘图颜色               |
| col.axis | 坐标轴刻度文字（标签）的颜色 |
| col.lab  | 坐标轴名称的颜色             |
| col.main | 主标题的名称                 |
| col.sub  | 副标题的名称                 |
| fg       | 前景色                       |
| bg       | 背景色                       |

##### 大小-cex

| 参数     | 描述                                                         |
| -------- | ------------------------------------------------------------ |
| cex      | 设置文字和符号相对于默认值的大小, 为一个比例数值. 当使用 mfrow 或 mfcol 也会改变该值. |
| cex.axis | 在当前 cex 基础上对坐标轴的大小进行调整的比例.               |
| cex.lab  | 在当前 cex 基础上对坐标轴标签的大小进行调整的比例.           |
| cex.main | 在当前 cex 基础上对主标题的大小进行调整的比例.               |
| cex.sub  | 在当前 cex 基础上对小标题的大小进行调整的比例.               |



##### 文字-font

| 参数      | 描述                                                         |
| --------- | ------------------------------------------------------------ |
| font      | 指定字体样式，1=常规，2=粗体，3=斜体，4=粗斜体，5=符号字体（以Adobe符号编码表示） |
| font.axis | 坐标刻度标签的字体样式                                       |
| font.lab  | 坐标轴名称的字体样式                                         |
| font.main | 标题的样式                                                   |
| font.sub  | 副标题的样式                                                 |
| ps        | 字体磅值，最终大小为ps*cex                                   |
| family    | 绘制文本时使用的字体族。标准的取值为serif（衬线）、sans（无衬线）和mono（等宽）.可以使用 library(extrafont) 来加载字体, 使用 family 来设置使用地字体. |
| adj       | text, mtext and title. 调整文字的调整方式的一个数值, 0 代表向左对齐, 0.5 代表居中 (默认), 1 代表向右对齐, 取值可以在 [0,1] 之间任意. |
| **crt**   | 设置单个的字符应该旋转的角度                                 |
| **srt**   | 设置字符串成体的旋转的角度.                                  |



##### 3.5 全局变量

par函数可以用来设置图形参数

```R
# 查看全局变量名
names(par())

# 查看参数默认值
par()
```

 函数par()中的参数可以分为三大类：

###### 3.1 只读

包括参数cin，cra，csi，cxy，din

###### 3.2 只能通过函数par()进行设置

包括参数：ask，fig，fin，lheight，mai，mar，mex，mfcol，mfrow，mfg，new，oma，omd，omi，pin,，plt，ps，pty，usr，xlog，ylog

###### 3.3 其他

剩下的参数除了函数par()外，可以通过高级绘图函数设置

如函数plot，points，lines，abline，title，text，axis，image，box，contour，rect，arrows等。

当一个参数的值被设定时，默认的会返回设定之前这个参数的值，我们可以通常一些变量把这些值保存下来。执行完操作之后，可以利用这些历史值进行恢复设定（但是不建议这么做，因为可能会引起一些参数值冲突）

| 参数        | 描述                                                         |
| ----------- | ------------------------------------------------------------ |
| adj         | 该参数值用于设定在text、mtext、title中字符串的对齐方向。0表示左对齐，0.5（默认值）表示居中，而1表示右对齐(说明一下，区间[0,1]内的任何值都可以作为参数adj的有效值，并且在大部分的图形设备中，介于区间外的值也是有效的)。注意一下，函数text中的参数adj的值可以以类似于形式adj=c(x,y)调整方向。但是在text中该参数的值影响的是对点的标记，对函数mtext和title来说，参数adj的值影响的是整个图像或设备区域。 |
| ann         | 如果ann=FALSE，那么高水平绘图函数会调用函数plot.default使对坐标轴名称、整体图像名称不做任何注解。默认值为TRUE。 |
| ask         | 逻辑值。若为TRUE（且当前的R会话是可交互状态），则在绘制新图像之前会要求用户输入确认信息。同样的，会对扩展包grid和lattice的输出有影响，甚至可能会应用到没有屏幕输出的设备上（但可能会没有效果） |
| bg          | 用于设定绘图区域的背景颜色。当通过函数par()调用时，会同时设定参数new=FALSE。对很多设备来说，该参数的初始值就是该设备的背景颜色值，其他情况下一般为"white"。需要注意一点的是，一些图形函数例如plot.default和points等也有名为bg的参数，但是代表的含义是不同的 |
| bty         | 该参数值为字符串型，用于限定图形的边框类型。如果bty的值为"o"（默认值）、"l"、"7"、"c"、"u"或者"]"中的任意一个，对应的边框类型就和该字母的形状相似。如果bty的值为"n"，表示无边框。 |
| cex         | 用于表示对默认的绘图文本和符号放大多少倍。需要注意一些绘图函数如plot.default等也有一个相同名字的参数，但是此时表示在函数par()的参数cex的基础上再放大多少倍，此外还有函数points等接受一个数值向量为参数 |
| cex.axis    | 表示在当前的cex设定情况下，对坐标轴刻度值字体的放大倍数      |
| cex.lab     | 表示在当前的cex设定情况下，对坐标轴名称字体的放大倍数        |
| cex.main    | 表示在当前的cex设定情况下，对主标题字体的放大倍数            |
| cex.sub     | 表示在当前的cex设定情况下，对子标题字体的放大倍数            |
| cin         | 这是一个只读参数，不能进行修改                               |
| col         | 用于设定默认的绘图颜色（无可否认这是一个非常特别的参数，以后会总结博文专门讨论如何设定颜色 |
| col.axis    | 坐标轴刻度值的颜色，默认为"black"                            |
| col.lab     | 坐标轴名称的颜色，默认为"black"                              |
| col.main    | 主标题的颜色，默认为"black"                                  |
| col.sub     | 子标题的颜色，默认为"black"                                  |
| cra         | 参见参数cin的说明                                            |
| crt         | 该参数的值为一个表示度数的数值，用于表示单个字符的旋转度数，最好为90的倍数 |
| csi         | 只读参数，返回默认的字符高度，以英寸为单位                   |
| cxy         | 只读参数，以形式(width,height)返回默认的字符宽度、高度，其中par("cxy")=par("cin")/par("pin") |
| din         | 只读参数，表示绘图设备的尺寸规格，以形式(width,height)返回，单位为英寸 |
| family      | 图形中字符的字体类型                                         |
| fg          | 图形中显著位置的颜色（如坐标轴、刻度线，边框等），一般默认为"black" |
| fig         | 一个数值向量，形式为c(x1, x2, y1, y2)，用于设定当前图形在绘图设备中所占区域，注意需要满足x1 |
| fin         | 当前绘图区域的尺寸规格，形式为(width,height)，单位为英寸     |
| font        | 用于设定采用哪种字型，为一个整数                             |
| font.axis   | 坐标轴刻度值的字型                                           |
| font.lab    | 坐标轴名称的字型                                             |
| font.main   | 主标题的字型                                                 |
| font.sub    | 子标题的字型                                                 |
| lab         | 以形式c(x,y,len)表示的数值型向量，用于对坐标轴的名称进行设定 |
| las         | 只能是0,1,2,3中的某一个值，用于表示刻度值的方向              |
| lend        | 线段的端点样式，参数值可以为一个整数或者一个字符串           |
| lty         | 直线类型。参数的值可以为整数（0为空，1为实线（默认值），2为虚线，3为点线，还可以为4、5、6等），也可以为字符串（和整数是一一对应的，如"blank"、"solid"、"dashed"、``"dotted"、``"dotdash"、``"longdash"或者 "twodash"）。 |
| lwd         | 线条宽度。必须为一个整数，默认值为1。具体的实现根据设备而定，有一些绘图设备不支持线条宽度小于1 |
| mfcol，mrow | 用于设定图像设备的布局（简单的说就是将当前的绘图设备分隔成了nr*nc个子设备），参数形式为c(nr, nc)。子图的绘图顺序是按列还是按行就分别根据是参数指定的是mfcol还是mfrow。想要实现相同的功能还可以利用函数layout或者split.screen |
| mgp         | 设定标题、坐标轴名称、坐标轴距图形边框的距离。默认值为c(3,1,0)，其中第一个值影响的是标题 |
| new         | 逻辑值，默认值为FALSE。如果设定为TRUE，那么下一个高级绘图命令并不会清空当前绘图设备。 |
| oma         | 参数形式为c(bottom, left, top, right) ，用于设定外边界。     |
| omi         | 和参数oma的作用一样，只是这次参数的单位为英寸。              |
| pch         | 表示点的形状，它的值可以为数值型（介于0到25之间的数值），也可以为字符型。1代表圆圈，2代表三角形，3代表“+”号。当pch的值为字符型时，那么点就通过该字符来表示 |
| pin         | 当前的维度，形式为c(width,height)，单位为英寸。              |
| plt         | 形式为 c(x1, x2, y1, y2)，设定当前的绘图区域。               |
| pty         | 一个字符型参数，表示当前绘图区域的形状，"s"表示生成一个正方形区域，而"m"表示生成最大的绘图区域。 |
| srt         | 字符串旋转度数，只支持函数text。                             |
| tck         | 刻度线的长度，为一个小于等于的小数，表示绘图区域的高度或宽度的一部分（取高度或宽度中较小的值）；如果tck=1，则表示绘制网格线。默认值为NA（相当于tcl=-0.5）。 |
| tcl         | 同样可用于设定刻度线的长度，但是和tck的单位不同。它的默认值为-0.5。 |
| usr         | 一个形式为c(x1, x2, y1, y2)的向量，表示当前绘图区域的坐标值范围：c(xleft, xright, ybottom, ytop)。如果采用的对数刻度（如par("xlog")=TRUE），那么x坐标轴的表示范围为10^par("usr")[1:2]，同样也可以得到y坐标轴的表示范围。 |
| xaxp        | 一个形式为c(x1, x2, n)的向量，表示当par("xlog")=false时，x坐标轴的刻度线的区间及区间中的刻度线个数。若par("xlog")=TRUE，情形就稍微复杂了：若取值范围较小，那么n是一个负数，且刻度线的分布和正常情形（没有对数转换）下相似；若n取值为1、2、3中的一个，c(x1,x2)=10^par("usr")[1:2]（并且此时par("usr")是指par("xlog")=TRUE情况下返回的值） |
| xaxs        | 坐标轴x的间隔设定方式。取值范围为："r", "i", "e", "s", "d"。一般来说，计算方式是由xlim的数值范围确定的（如果xlim指定了的话）。"r"(regular)首先会对数值范围向两端各延伸4%，然后在延伸后的数值区间中设置坐标值；"i"(internal)直接在原始的数据范围中设置坐标值；"s"(standard)和"e"(extended)、；"d"(direct)目前还不支持。 |
| xaxt        | 用于设定x坐标轴的刻度值类型，为一个字符。"n"表示不绘制刻度值及刻度线；"s"表示绘制，默认值。 |
| xlog        | 一个逻辑值。如果为TRUE，表示对x轴为对数坐标轴，默认值为FALSE。 |
| yaxp        | 同xaxp类似，表示y坐标轴的刻度线的区间及区间中的刻度线个数。  |
| yaxs        | 类似于xaxs，对坐标轴y的间隔设定方式。                        |
| yaxt        | 类似于xaxt。                                                 |
| ylog        | 类似于xlog                                                   |



#### 4.R图形组合

R图形组合有三种方法`par(mfrow=...)`、`layout()`、`par(fig=...)`。

##### 4.1 par(mfrow)

使用`par()`中的`mfrow=c(nrows, ncols)`或`mfcol=c(nrows, ncols)`可以快速创建nrows行ncols列的图形矩阵。

```R
opar <- par(no.readonly=TRUE)
par(mfrow=c(2,2))   #将图形分为2行2列
plot(...)  #绘制第一个图
plot(...)   #第二
plot(...)   #第三
plot(...)  #绘制最后一个图
par(opar)
```

##### 4.2 layout()

函数`layout()`的调用形式为`layout(mat)`，其中的mat是一个矩阵，它指定了所要组合的多个图形的所在位置。

```R
attach(mtcars)
###将画布分为三部分，第一部分为一行，另两部分平分另一行
layout(matrix(c(1,1,2,3), 2,2, byrow=TRUE))
hist(mpg)   #第一个图独占第一行
hist(gear)  #第二个图位于第二行左半部
hist(disp)    #第三个图位于第二行右半部
detach(mtcars)
```

为了更精确地控制每幅图形的大小，可以有选择地在layout()函数中使用widths=和heights=两个参数。其形式为：widths = 各列宽度值组成的一个向量, heights = 各行高度值组成的一个向量。widths和heights中的向量数值都可以通过相对值指定。
 layout()函数能够让我们轻松地控制最终图形中的子图数量和摆放方式，以及这些子图的相对大小。

##### 4.3 par(fig=....)

`fig`参数使我们能够精确的排布各个图形的位置，将各个图形进行叠加。

```R
opar<-par(no.readonly = T)
###设置第一幅图的位置, X和Y轴范围都为（0,0.8）
par(fig=c(0,0.8,0,0.8))
plot(mtcars$wt, mtcars$mpg, xlab='MPG', ylab='Weight')
### 设置第二幅图，X轴范围为（0,0.8），Y轴范围为（0.55, 1）
par(fig=c(0,0.8,0.55, 1), new=T)   #注意这里的new参数一定要设置
boxplot(mtcars$wt,horizontal = T,axes=F)   #axes=F, 这里将所有的箱线图的坐标轴取消了
###设置第三幅图的位置，X轴范围为（0.65, 1），Y轴范围（0，0.8）
par(fig=c(0.65, 1, 0, 0.8), new=T)
boxplot(mtcars$mpg,axes=F)
###在上方添加文本
mtext("Enhanced scatterplot", side=3,outer=T,line=-3)
###添加标题，看图可以知道这时标题并非整个图的标题，而是第三幅图的标题
title(main="hellow world!")
```



#### 5.图形设备



